\section{Historia}
% \section{Disclaimer}

% Es por acá, amiga...
% Usuarias de instagram alrededor de Argentina
% creyendo saber por dónde va

A lo largo de la historia, el término \textit{bitácora} ha servido para referir a
distintos objetos relacionados con la orientación, el orden, el registro... Por
primera vez aparecida en un texto escrito en 1538,
%% Fuente: El diccionario etimológico de la lengua castellana de Joan Coromines
la palabra \textit{bitácora}
oficialmente refiere a un concepto de la navegación: \textit{especie de armario
inmediato al timón, en el cual se coloca la brújula}~\cite{dic.Etimologico}.
Desde ahí surge también
el conocido \textit{cuaderno de bitácora}, un libro en el que los marinos, durante
sus guardias, registraban los datos de lo acontecido, y que se guardaba en el
interior de la bitácora para preservarlo de los malos tiempos. El concepto
evolucionó y hoy en día la palabra bitácora usualmente se utiliza para hablar
de registros metodológicos de un suceso particular, ya sea un viaje, una
construcción, etc. Naturalmente, también se transformó la forma en que estos
registros se escriben y dónde se guardan, y existe hoy la noción de \textit{bitácora
virtual}. En esos casos, son las computadoras, las redes y los muchos protocolos,
los que permiten el acceso a esos registros mediante internet; la potencia de la
metáfora garantizando que continúe siendo un concepto de la navegación.
%

En Ciencias de la Computación, las \textit{bitácoras distribuídas} son un tipo de
base de datos que se comparte
alrededor de mútiples lugares, países o instituciones, y que típicamente es de
acceso público. Los registros pueden ser guardados usando distintas estructuras,
y solo pueden agregarse cuando los participantes logran un \textit{quorum}. En
contraste con un sistema centralizado, las bitácoras distribuídas no requieren
un administrador central y, en consecuencia, no tienen un punto de falla central.
Un caso particular de bitácora distribuída, en donde los registros se empaquetan
en forma de bloques, es la \textit{blockchain}. [A completar]
%Las blockchains tomaron popularidad
%con la implementación de Bitcoin, un sistema de pago electrónico decentralizado, 
%propuesto por Nakamoto en 2009~\cite{nakamoto06bitcoin}.
%Así, aquello que en sus orígenes fue parte de una herramienta de guía, que mostró
%a los viajeros su rumbo, hoy representa un avance en una dirección que difícilmente se
%pueda considerar certera.

% Agregar alguna cita o reflexión de alguien sobre la humanidad creyendo o queriendo
% conocer el destino

\section{El problema}
% What is the problem. Justifiy that the problem is a problem.
%Blockchains
Las blockchains tomaron
popularidad con la implementación de Bitcoin, una tecnología propuesta por Nakamoto en
2009~\cite{nakamoto06bitcoin}.
Allí se presentó como un método para eliminar terceras partes confiables en sistemas
de pago electrónico.
%

Las blockchains modernas incorporan contratos inteligentes~\cite{szabo96smart,ethereum},
los cuales son programas de estado inmutable alojados en la blockchain. Dichos
programas describen la funcionalidad de las transacciones, incluyendo el intercambio
de criptomonedas.
%
Los contratos inteligentes permiten describir funcionalidades sofisticadas, habilitando
diversas aplicaciones en finanzas descentralizadas (DeFi)\footnote{En diciembre de 2021,
el valor monetario alojado en DeFi estaba estimado en alrededor de \$100B, de acuerdo a Statista
\url{https://www.statista.com/statistics/1237821/defi-market-size-value-crypto-locked-usd/}.},
gobierno decentralizado, Web3, etc.
%

La blockchain es un \textit{objeto distribuído} que contiene las transacciones realizadas
en nombre de los usuarios, empaquetadas en bloques, y toalmente
ordenadas~\cite{anta2018formalizing,anta2021principles}.
%
En entornos reales, el objeto blockchain es mantenido por múltiples servidores
sin una autoridad central, usando \emph{algoritmos de consenso} que son resilientes a los
ataques bizantinos.
%

Un aspecto clave en la adopción de las tecnologías blockchain es \emph{su rendmiento}, medido
en términos del número de transacciones por segundo.
%
Consecuentemente, diversas técnicas para mejorar la escalabilidad de las blockchains
están siendo desarrolladas.
%
Las blockchains actuales requieren de algoritmos de consenso que garanticen que las
transacciones, empaquetadas en bloques, estén totalmente ordenadas.
%
Esta imposición de un orden total puede ser innecesario para algunas aplicaciones.

%
Un enfoque prometedor para mejorar la escalabilidad es \textit{Setchain}~\cite{Capretto.2022.Setchain},
un tipo de datos concurrente que implementa conjuntos de solo crecimiento distribuídos,
proveyendo barreras o puntos de sincronización (llamados épocas). A su vez,
\textit{Setchain} es tolerante a comportamientos bizantinos.
%
\setchain relaja el requerimiento de orden total y, por lo tanto, puede lograr mayor
rendimiento y escalabilidad.
%
Las \setchains se pueden usar para aquellas aplicaciones, como los registros digitales,
en donde los elementos en la blockchain no necesitan estar ordenados, excepto a través
de barreras ocasionales.

%

Distintos algoritmos bizantinos distribuídos que implementan \setchain fueron
propuestos, pero no existía al momento ninguna implementacion eficiente compatible con
los requerimientos de una aplicación del mundo real.
Es decir, una aplicación capaz de soportar un \textit{deployment} con miles de nodos\footnote{Si bien
es difícil saber con exactitud cuántos nodos existen en la red de Blockcahin o Ethereum, se estima
que este número varía entre aproximadamente 10000 y 50000 nodos.}
distribuídos geográficamente en todos los continentes, con clientes enviando peticiones para
añadir nuevas transacciones a los servidores constantemente.

\section{Contribuciones}
En este trabajo se propone una familia de implementaciones robustas de \setchain,
construídas sobre la plataforma de aplicación de blockchain \textit{Tendermint}.

%% Motivate the use of tendermint. Why tendermint is relevant

% Fuente: TENDERMINT: BYZANTINE FAULT TOLERANCE IN THE AGE OF BLOCKCHAINS
% https://docs.tendermint.com/v0.34/introduction/what-is-tendermint.html

Tendermint~\cite{Buchman.2018.Tendermint} es una plataforma novedoza y popular para la
replicación segura y consistente de aplicaciones en distintas máquinas.
%
\textit{Segura} en este contexto significa que Tendermint funciona incluso si a lo sumo
un tercio de las máquinas fallan de formas arbitrarias.
%
\textit{Consistente} refiere a que toda máquina correcta verá el mismo lote de
transacciones y computará el mismo estado.
%
Tendermint es un abordaje robusto de las bitácoras distribuídas implementado
en \emph{Go}~\cite{donovan15go}, que presenta una separación clara entre las
capas de bajo nivel de la blockchain,
tales como un protocolo \textit{gossip} y un algoritmo de consenso, y los conceptos de alto
nivel relacionados a la estructura de datos que la blockchain mantiene\footnote{Al momento
de la realización de las implementaciones y la evaluación empírica de las mismas,
Tendermint 0.34 era la versión de la plataforma vigente y más utilizada. Sin embargo,
actualmente, la versión más utilizada es un \textit{fork} de Tendermint llamado \textit{CometBFT}~\cite{cometbft.repo}.
El desarrollo planteado a lo largo de este trabajo podría en principio portarse a la nueva versión.}.

%
% What is the solution.
%

La familia de implementaciones que se presenta en este trabajo
sigue un enfoque incremental, proveyendo diversas aproximaciones
a la solución final y más compleja; consta de tres variantes:
\begin{enumerate}
  \item \textit{\vanilla}, una primera solución básica de \setchain,
  \item \textit{Compresschain}, una variante intermedia utilizando un algoritmo de compresión, y
  \item \textit{Hashchain}, la contribución principal de este trabajo, una solución 
  a \setchain usando funciones hash.
\end{enumerate}
%
Hashchain explota el poder de compresión de las funciones hash para reducir la
comunicación necesaria durante difusión y consenso, comunicando un hash de tamaño
fijo en lugar de cientos o miles de elementos.
%
El precio a pagar es un algoritmo distribuído adicional para obtener el conjunto de
elementos desde un hash, garantizando tolerancia a servidores bizantinos.
%

La hipótesis fundamental con la que se trabaja es que intercambiar latencia por un aumento en el
ancho de banda resulta en una mejora significativa en el rendimiento.
%
Es decir, hacer consenso sobre hashes de tamaño fijo conlleva un incremento en la cantidad de elementos
añadidos a la \setchain por segundo, incluso si esto significara un aumento en la latencia.

Cada una de las soluciones presentadas en este trabajo está enteramente construída sobre Tendermint.

% The article is structured as follows: in Section~\ref{sec:prelim}, we present a
% brief description of Setchain and Tendermint; in Section~\ref{sec:impl}, we
% describe three implementations of Setchain on top of Tendermint; and in
% Section~\ref{sec:conclusion}, we conclude our work.
% %
% This article is presented as a work-in-progress and shows partial results, and
% thus, the experimental section is lacking.

% We prove how Hashchain can implement Setchain correctly.

%%% Local Variables:
%%% TeX-master: "article.tex"
%%% TeX-PDF-mode: t
%%% End:
